@page
@model Mep1.Erp.TimesheetWeb.Pages.Timesheet.EnterHoursModel

<h2>Enter Hours</h2>

<form method="post">
    <div style="margin-bottom:10px;">
        <label>Project</label><br />
        <select asp-for="Input.JobKey" asp-items="Model.ProjectOptions"></select>
    </div>

    <div style="margin-bottom:10px;">
        <label>Code</label><br />
        <select asp-for="Input.Code" asp-items="Model.CodeOptions" id="codeSelect"></select>
    </div>

    <div id="ccfRefRow" style="margin-bottom:10px; display:none;">
        <label>CCF Ref (only for VO)</label><br />
        <input asp-for="Input.CcfRef" />
    </div>

    <button type="submit">Continue</button>
</form>

<script>
    (function () {
        function toggleCcf() {
            var code = document.getElementById("codeSelect").value;
            document.getElementById("ccfRefRow").style.display = (code === "VO") ? "block" : "none";
        }
        document.getElementById("codeSelect").addEventListener("change", toggleCcf);
        toggleCcf();
    })();
</script>
