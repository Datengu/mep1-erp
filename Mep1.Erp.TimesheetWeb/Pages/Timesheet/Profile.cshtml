@page
@model ProfileModel

<h2>Profile</h2>

@if (Model.MustChangePassword)
{
    <div class="alert alert-warning">
        You must change your password before continuing.
    </div>
}

<p><strong>Username:</strong> @Model.Username</p>

<hr />

<h3>Signature</h3>

@if (!string.IsNullOrWhiteSpace(Model.SuccessMessage))
{
    <div class="alert alert-success">@Model.SuccessMessage</div>
}

@if (!string.IsNullOrWhiteSpace(Model.ErrorMessage))
{
    <div class="alert alert-danger">@Model.ErrorMessage</div>
}

<form method="post" asp-page-handler="SaveSignature">
    <div>
        <label>Signature name (used on PDFs)</label>
        <input type="text" name="SignatureName" value="@Model.SignatureName" required />
    </div>

    <button type="submit">Save signature</button>
</form>

<hr />

<h3>Change Password</h3>

<form method="post" asp-page-handler="ChangePassword">
    <div>
        <label>Current password</label>
        <input type="password" name="CurrentPassword" required />
    </div>

    <div>
        <label>New password</label>
        <input type="password" name="NewPassword" required />
    </div>

    <button type="submit">Change password</button>
</form>
